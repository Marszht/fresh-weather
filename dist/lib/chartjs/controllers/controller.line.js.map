{"version":3,"sources":["lib/chartjs/controllers/controller.line.js"],"names":["module","exports","Chart","helpers","defaults","line","showLines","spanGaps","hover","mode","scales","xAxes","type","id","yAxes","lineEnabled","dataset","options","getValueOrDefault","showLine","controllers","DatasetController","extend","datasetElementType","elements","Line","dataElementType","Point","update","reset","me","meta","getMeta","points","data","chart","lineElementOptions","scale","getScaleForId","yAxisID","i","ilen","custom","getDataset","tension","undefined","lineTension","_scale","_datasetIndex","index","_children","_model","backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","steppedLine","stepped","cubicInterpolationMode","scaleTop","top","scaleBottom","bottom","scaleZero","getBasePixel","pivot","length","updateElement","updateBezierControlPoints","getPointBackgroundColor","point","pointBackgroundColor","getValueAtIndexOrDefault","getPointBorderColor","pointBorderColor","getPointBorderWidth","pointBorderWidth","datasetIndex","value","yScale","xScale","xAxisID","pointOptions","x","y","labels","includeOffset","isCombo","radius","pointRadius","hitRadius","pointHitRadius","getPixelForValue","NaN","calculatePointY","_xScale","_yScale","_index","skip","isNaN","pointStyle","sumPos","sumNeg","ds","dsMeta","stacked","datasets","getDatasetMeta","isDatasetVisible","stackedRightValue","Number","getRightValue","rightValue","area","chartArea","model","controlPoints","filter","pt","capControlPoint","min","max","Math","splineCurveMonotone","splineCurve","previousItem","nextItem","controlPointPreviousX","previous","controlPointPreviousY","controlPointNextX","next","controlPointNextY","capBezierPoints","left","right","draw","ease","easingDecimal","transition","setHoverStyle","hoverRadius","pointHoverRadius","hoverBackgroundColor","pointHoverBackgroundColor","getHoverColor","hoverBorderColor","pointHoverBorderColor","hoverBorderWidth","pointHoverBorderWidth","removeHoverStyle"],"mappings":"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","file":"controller.line.js","sourcesContent":["'use strict';\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\tChart.defaults.line = {\n\t\tshowLines: true,\n\t\tspanGaps: false,\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\t\t\t\tid: 'x-axis-0'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t}\n\t};\n\tfunction lineEnabled(dataset, options) {\n\t\treturn helpers.getValueOrDefault(dataset.showLine, options.showLines);\n\t}\n\tChart.controllers.line = Chart.DatasetController.extend({\n\t\tdatasetElementType: Chart.elements.Line,\n\t\tdataElementType: Chart.elements.Point,\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data || [];\n\t\t\tvar options = me.chart.options;\n\t\t\tvar lineElementOptions = options.elements.line;\n\t\t\tvar scale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar i, ilen, custom;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar showLine = lineEnabled(dataset, options);\n\t\t\t// Update Line\n\t\t\tif (showLine) {\n\t\t\t\tcustom = line.custom || {};\n\t\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t\t}\n\t\t\t\t// Utility\n\t\t\t\tline._scale = scale;\n\t\t\t\tline._datasetIndex = me.index;\n\t\t\t\t// Data\n\t\t\t\tline._children = points;\n\t\t\t\t// Model\n\t\t\t\tline._model = {\n\t\t\t\t\t// Appearance\n\t\t\t\t\t// The default behavior of lines is to break at null values, according\n\t\t\t\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\n\t\t\t\t\t// This option gives lines the ability to span gaps\n\t\t\t\t\tspanGaps: dataset.spanGaps ? dataset.spanGaps : options.spanGaps,\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tsteppedLine: custom.steppedLine ? custom.steppedLine : helpers.getValueOrDefault(dataset.steppedLine, lineElementOptions.stepped),\n\t\t\t\t\tcubicInterpolationMode: custom.cubicInterpolationMode ? custom.cubicInterpolationMode : helpers.getValueOrDefault(dataset.cubicInterpolationMode, lineElementOptions.cubicInterpolationMode),\n\t\t\t\t\t// Scale\n\t\t\t\t\tscaleTop: scale.top,\n\t\t\t\t\tscaleBottom: scale.bottom,\n\t\t\t\t\tscaleZero: scale.getBasePixel()\n\t\t\t\t};\n\t\t\t\tline.pivot();\n\t\t\t}\n\t\t\t// Update Points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tme.updateElement(points[i], i, reset);\n\t\t\t}\n\t\t\tif (showLine && line._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\t\t\t// Now pivot the point for animation\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].pivot();\n\t\t\t}\n\t\t},\n\t\tgetPointBackgroundColor: function(point, index) {\n\t\t\tvar backgroundColor = this.chart.options.elements.point.backgroundColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\t\t\tif (custom.backgroundColor) {\n\t\t\t\tbackgroundColor = custom.backgroundColor;\n\t\t\t} else if (dataset.pointBackgroundColor) {\n\t\t\t\tbackgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);\n\t\t\t} else if (dataset.backgroundColor) {\n\t\t\t\tbackgroundColor = dataset.backgroundColor;\n\t\t\t}\n\t\t\treturn backgroundColor;\n\t\t},\n\t\tgetPointBorderColor: function(point, index) {\n\t\t\tvar borderColor = this.chart.options.elements.point.borderColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\t\t\tif (custom.borderColor) {\n\t\t\t\tborderColor = custom.borderColor;\n\t\t\t} else if (dataset.pointBorderColor) {\n\t\t\t\tborderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);\n\t\t\t} else if (dataset.borderColor) {\n\t\t\t\tborderColor = dataset.borderColor;\n\t\t\t}\n\t\t\treturn borderColor;\n\t\t},\n\t\tgetPointBorderWidth: function(point, index) {\n\t\t\tvar borderWidth = this.chart.options.elements.point.borderWidth;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\t\t\tif (custom.borderWidth) {\n\t\t\t\tborderWidth = custom.borderWidth;\n\t\t\t} else if (dataset.pointBorderWidth) {\n\t\t\t\tborderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);\n\t\t\t} else if (dataset.borderWidth) {\n\t\t\t\tborderWidth = dataset.borderWidth;\n\t\t\t}\n\t\t\treturn borderWidth;\n\t\t},\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar datasetIndex = me.index;\n\t\t\tvar value = dataset.data[index];\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar pointOptions = me.chart.options.elements.point;\n\t\t\tvar x, y;\n\t\t\tvar labels = me.chart.data.labels || [];\n\t\t\tvar includeOffset = (labels.length === 1 || dataset.data.length === 1) || me.chart.isCombo;\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\t\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex, includeOffset);\n\t\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\n\t\t\t// Utility\n\t\t\tpoint._xScale = xScale;\n\t\t\tpoint._yScale = yScale;\n\t\t\tpoint._datasetIndex = datasetIndex;\n\t\t\tpoint._index = index;\n\t\t\t// Desired view properties\n\t\t\tpoint._model = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\n\t\t\t\t// Appearance\n\t\t\t\tradius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),\n\t\t\t\tpointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),\n\t\t\t\tbackgroundColor: me.getPointBackgroundColor(point, index),\n\t\t\t\tborderColor: me.getPointBorderColor(point, index),\n\t\t\t\tborderWidth: me.getPointBorderWidth(point, index),\n\t\t\t\ttension: meta.dataset._model ? meta.dataset._model.tension : 0,\n\t\t\t\tsteppedLine: meta.dataset._model ? meta.dataset._model.steppedLine : false,\n\t\t\t\t// Tooltip\n\t\t\t\thitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)\n\t\t\t};\n\t\t},\n\t\tcalculatePointY: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar sumPos = 0;\n\t\t\tvar sumNeg = 0;\n\t\t\tvar i, ds, dsMeta;\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tfor (i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tds = chart.data.datasets[i];\n\t\t\t\t\tdsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedRightValue = Number(yScale.getRightValue(ds.data[index]));\n\t\t\t\t\t\tif (stackedRightValue < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedRightValue || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar rightValue = Number(yScale.getRightValue(value));\n\t\t\t\tif (rightValue < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\n\t\t\t}\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar area = me.chart.chartArea;\n\t\t\tvar points = (meta.data || []);\n\t\t\tvar i, ilen, point, model, controlPoints;\n\t\t\t// Only consider points that are drawn in case the spanGaps option is used\n\t\t\tif (meta.dataset._model.spanGaps) {\n\t\t\t\tpoints = points.filter(function(pt) {\n\t\t\t\t\treturn !pt._model.skip;\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction capControlPoint(pt, min, max) {\n\t\t\t\treturn Math.max(Math.min(pt, max), min);\n\t\t\t}\n\t\t\tif (meta.dataset._model.cubicInterpolationMode === 'monotone') {\n\t\t\t\thelpers.splineCurveMonotone(points);\n\t\t\t} else {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tpoint = points[i];\n\t\t\t\t\tmodel = point._model;\n\t\t\t\t\tcontrolPoints = helpers.splineCurve(\n\t\t\t\t\t\thelpers.previousItem(points, i)._model,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\thelpers.nextItem(points, i)._model,\n\t\t\t\t\t\tmeta.dataset._model.tension\n\t\t\t\t\t);\n\t\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\n\t\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\n\t\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\n\t\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (me.chart.options.elements.line.capBezierPoints) {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tmodel = points[i]._model;\n\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\n\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data || [];\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, ilen;\n\t\t\t// Transition Point Locations\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].transition(easingDecimal);\n\t\t\t}\n\t\t\t// Transition and Draw the line\n\t\t\tif (lineEnabled(me.getDataset(), me.chart.options)) {\n\t\t\t\tmeta.dataset.transition(easingDecimal).draw();\n\t\t\t}\n\t\t\t// Draw the points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].draw();\n\t\t\t}\n\t\t},\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\tmodel.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tmodel.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);\n\t\t\tmodel.backgroundColor = me.getPointBackgroundColor(point, index);\n\t\t\tmodel.borderColor = me.getPointBorderColor(point, index);\n\t\t\tmodel.borderWidth = me.getPointBorderWidth(point, index);\n\t\t}\n\t});\n};\n"]}