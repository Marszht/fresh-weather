{"version":3,"sources":["lib/chartjs/core/core.datasetController.js"],"names":["module","exports","Chart","helpers","arrayEvents","listenArrayEvents","array","listener","_chartjs","listeners","push","Object","defineProperty","configurable","enumerable","value","forEach","key","method","charAt","toUpperCase","slice","base","args","Array","prototype","call","arguments","res","apply","each","object","unlistenArrayEvents","stub","index","indexOf","splice","length","DatasetController","chart","datasetIndex","initialize","extend","datasetElementType","dataElementType","me","linkScales","addElements","updateIndex","meta","getMeta","dataset","getDataset","xAxisID","options","scales","xAxes","id","yAxisID","yAxes","data","datasets","getDatasetMeta","getScaleForId","scaleID","reset","update","destroy","_data","createMetaDataset","type","_chart","_datasetIndex","createMetaData","_index","metaData","i","ilen","addElementAndReset","element","updateElement","buildOrUpdateElements","resyncElements","noop","draw","ease","easingDecimal","len","transition","removeHoverStyle","elementOpts","custom","valueOrDefault","getValueAtIndexOrDefault","model","_model","backgroundColor","borderColor","borderWidth","setHoverStyle","getHoverColor","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","numMeta","numData","insertElements","start","count","onDataPush","onDataPop","pop","onDataShift","shift","onDataSplice","onDataUnshift","inherits"],"mappings":"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","file":"core.datasetController.js","sourcesContent":["'use strict';\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\tvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\n\t/**\n\t * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n\t * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n\t * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\n\t */\n\tfunction listenArrayEvents(array, listener) {\n\t\tif (array._chartjs) {\n\t\t\tarray._chartjs.listeners.push(listener);\n\t\t\treturn;\n\t\t}\n\t\tObject.defineProperty(array, '_chartjs', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: {\n\t\t\t\tlisteners: [listener]\n\t\t\t}\n\t\t});\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\n\t\t\tvar base = array[key];\n\t\t\tObject.defineProperty(array, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: function() {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\t\tvar res = base.apply(this, args);\n\t\t\t\t\thelpers.each(array._chartjs.listeners, function(object) {\n\t\t\t\t\t\tif (typeof object[method] === 'function') {\n\t\t\t\t\t\t\tobject[method].apply(object, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Removes the given array event listener and cleanup extra attached properties (such as\n\t * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n\t */\n\tfunction unlistenArrayEvents(array, listener) {\n\t\tvar stub = array._chartjs;\n\t\tif (!stub) {\n\t\t\treturn;\n\t\t}\n\t\tvar listeners = stub.listeners;\n\t\tvar index = listeners.indexOf(listener);\n\t\tif (index !== -1) {\n\t\t\tlisteners.splice(index, 1);\n\t\t}\n\t\tif (listeners.length > 0) {\n\t\t\treturn;\n\t\t}\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tdelete array[key];\n\t\t});\n\t\tdelete array._chartjs;\n\t}\n\t// Base class for all dataset controllers (line, bar, etc)\n\tChart.DatasetController = function(chart, datasetIndex) {\n\t\tthis.initialize(chart, datasetIndex);\n\t};\n\thelpers.extend(Chart.DatasetController.prototype, {\n\t\t/**\n\t\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdatasetElementType: null,\n\t\t/**\n\t\t * Element type used to generate a meta data (e.g. Chart.element.Point).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdataElementType: null,\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tme.chart = chart;\n\t\t\tme.index = datasetIndex;\n\t\t\tme.linkScales();\n\t\t\tme.addElements();\n\t\t},\n\t\tupdateIndex: function(datasetIndex) {\n\t\t\tthis.index = datasetIndex;\n\t\t},\n\t\tlinkScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\t\t\tif (meta.xAxisID === null) {\n\t\t\t\tmeta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;\n\t\t\t}\n\t\t\tif (meta.yAxisID === null) {\n\t\t\t\tmeta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;\n\t\t\t}\n\t\t},\n\t\tgetDataset: function() {\n\t\t\treturn this.chart.data.datasets[this.index];\n\t\t},\n\t\tgetMeta: function() {\n\t\t\treturn this.chart.getDatasetMeta(this.index);\n\t\t},\n\t\tgetScaleForId: function(scaleID) {\n\t\t\treturn this.chart.scales[scaleID];\n\t\t},\n\t\treset: function() {\n\t\t\tthis.update(true);\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tdestroy: function() {\n\t\t\tif (this._data) {\n\t\t\t\tunlistenArrayEvents(this._data, this);\n\t\t\t}\n\t\t},\n\t\tcreateMetaDataset: function() {\n\t\t\tvar me = this;\n\t\t\tvar type = me.datasetElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index\n\t\t\t});\n\t\t},\n\t\tcreateMetaData: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar type = me.dataElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart.chart,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index\n\t\t\t});\n\t\t},\n\t\taddElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data || [];\n\t\t\tvar metaData = meta.data;\n\t\t\tvar i, ilen;\n\t\t\tfor (i=0, ilen=data.length; i<ilen; ++i) {\n\t\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\n\t\t\t}\n\t\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\n\t\t},\n\t\taddElementAndReset: function(index) {\n\t\t\tvar element = this.createMetaData(index);\n\t\t\tthis.getMeta().data.splice(index, 0, element);\n\t\t\tthis.updateElement(element, index, true);\n\t\t},\n\t\tbuildOrUpdateElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data || (dataset.data = []);\n\t\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\n\t\t\t// real-time charts), we need to monitor these data modifications and synchronize\n\t\t\t// the internal meta data accordingly.\n\t\t\tif (me._data !== data) {\n\t\t\t\tif (me._data) {\n\t\t\t\t\t// This case happens when the user replaced the data array instance.\n\t\t\t\t\tunlistenArrayEvents(me._data, me);\n\t\t\t\t}\n\t\t\t\tlistenArrayEvents(data, me);\n\t\t\t\tme._data = data;\n\t\t\t}\n\t\t\t// Re-sync meta data in case the user replaced the data array or if we missed\n\t\t\t// any updates and so make sure that we handle number of datapoints changing.\n\t\t\tme.resyncElements();\n\t\t},\n\t\tupdate: helpers.noop,\n\t\tdraw: function(ease) {\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tvar i, len;\n\t\t\tvar metaData = this.getMeta().data;\n\t\t\tfor (i = 0, len = metaData.length; i < len; ++i) {\n\t\t\t\tmetaData[i].transition(easingDecimal).draw();\n\t\t\t}\n\t\t},\n\t\tremoveHoverStyle: function(element, elementOpts) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tmodel = element._model;\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\t\t},\n\t\tsetHoverStyle: function(element) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tgetHoverColor = helpers.getHoverColor,\n\t\t\t\tmodel = element._model;\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tresyncElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data;\n\t\t\tvar numMeta = meta.data.length;\n\t\t\tvar numData = data.length;\n\t\t\tif (numData < numMeta) {\n\t\t\t\tmeta.data.splice(numData, numMeta - numData);\n\t\t\t} else if (numData > numMeta) {\n\t\t\t\tme.insertElements(numMeta, numData - numMeta);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tinsertElements: function(start, count) {\n\t\t\tfor (var i=0; i<count; ++i) {\n\t\t\t\tthis.addElementAndReset(start + i);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPush: function() {\n\t\t\tthis.insertElements(this.getDataset().data.length-1, arguments.length);\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPop: function() {\n\t\t\tthis.getMeta().data.pop();\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataShift: function() {\n\t\t\tthis.getMeta().data.shift();\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataSplice: function(start, count) {\n\t\t\tthis.getMeta().data.splice(start, count);\n\t\t\tthis.insertElements(start, arguments.length - 2);\n\t\t},\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataUnshift: function() {\n\t\t\tthis.insertElements(0, arguments.length);\n\t\t}\n\t});\n\tChart.DatasetController.extend = helpers.inherits;\n};\n"]}