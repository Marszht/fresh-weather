{"version":3,"sources":["lib/chartjs/core/core.controller.js"],"names":["module","exports","Chart","helpers","types","instances","controllers","readUsedSize","element","property","value","getStyle","matches","match","Number","undefined","initCanvas","canvas","config","style","renderHeight","getAttribute","renderWidth","_chartjs","initial","height","width","display","displayWidth","options","aspectRatio","displayHeight","releaseCanvas","forEach","prop","removeAttribute","setAttribute","each","key","acquireContext","item","context","initConfig","data","datasets","labels","configMerge","defaults","global","type","Controller","instance","me","ctx","id","uid","chart","_bufferedRender","Object","defineProperty","get","console","error","retinaScale","responsive","addResizeListener","parentNode","resize","initialize","extend","prototype","plugins","notify","bindEvents","ensureScalesHaveIDs","buildOrUpdateControllers","buildScales","updateLayout","resetElements","initToolTip","update","clear","stop","animationService","cancelAnimation","silent","maintainAspectRatio","newWidth","Math","floor","getMaximumWidth","newHeight","getMaximumHeight","newSize","onResize","responsiveAnimationDuration","scalesOptions","scales","scaleOptions","scale","xAxes","xAxisOptions","index","yAxes","yAxisOptions","items","concat","map","dtype","push","isDefault","scaleType","getValueOrDefault","scaleClass","scaleService","getScaleConstructor","addScalesToLayout","layoutService","newControllers","dataset","datasetIndex","meta","getDatasetMeta","controller","updateIndex","length","i","isCombo","reset","tooltip","animationDuration","lazy","_data","buildOrUpdateElements","updateDatasets","_bufferedRequest","duration","render","ilen","animationOptions","animation","Animation","numSteps","easing","chartInstance","animationObject","easingFunction","easingEffects","stepDecimal","currentStep","easeDecimal","draw","onAnimationProgress","onProgress","onAnimationComplete","onComplete","addAnimation","call","ease","easingDecimal","boxes","box","chartArea","isDatasetVisible","transition","getElementAtEvent","e","Interaction","modes","single","getElementsAtEvent","label","intersect","getElementsAtXAxis","getElementsAtEventForMode","mode","method","getDatasetAtEvent","_meta","hidden","xAxisID","yAxisID","getVisibleDatasetCount","count","generateLegend","legendCallback","destroy","unbindEvents","events","removeResizeListener","originalDevicePixelRatio","toBase64Image","toDataURL","apply","arguments","Tooltip","_chart","_chartInstance","_options","tooltips","evt","eventHandler","updateHoverStyle","elements","enabled","_datasetIndex","hoverOptions","hover","changed","handleEvent","legend","bufferedRequest","animating","lastActive","active","onHover","onClick","arrayEquals"],"mappings":"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","file":"core.controller.js","sourcesContent":["'use strict';\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\t// Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\t// Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t// Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\t// Controllers available for dataset visualization eg. bar, line, slice, etc.\n\tChart.controllers = {};\n\t/**\n\t * The \"used\" size is the final value of a dimension property after all calculations have\n\t * been performed. This method uses the computed style of `element` but returns undefined\n\t * if the computed style is not expressed in pixels. That can happen in some cases where\n\t * `element` has a size relative to its parent and this last one is not yet displayed,\n\t * for example because of `display: none` on a parent node.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n\t * @returns {Number} Size in pixels or undefined if unknown.\n\t */\n\tfunction readUsedSize(element, property) {\n\t\tvar value = helpers.getStyle(element, property);\n\t\tvar matches = value && value.match(/(\\d+)px/);\n\t\treturn matches? Number(matches[1]) : undefined;\n\t}\n\t/**\n\t * Initializes the canvas style and render size without modifying the canvas display size,\n\t * since responsiveness is handled by the controller.resize() method. The config is used\n\t * to determine the aspect ratio to apply in case no explicit height has been specified.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction initCanvas(canvas, config) {\n\t\tvar style = canvas.style;\n\t\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n\t\t// returns null or '' if no explicit value has been set to the canvas attribute.\n\t\tvar renderHeight = canvas.getAttribute('height');\n\t\tvar renderWidth = canvas.getAttribute('width');\n\t\t// Chart.js modifies some canvas values that we want to restore on destroy\n\t\tcanvas._chartjs = {\n\t\t\tinitial: {\n\t\t\t\theight: renderHeight,\n\t\t\t\twidth: renderWidth,\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: style.display,\n\t\t\t\t\theight: style.height,\n\t\t\t\t\twidth: style.width\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// Force canvas to display as block to avoid extra space caused by inline\n\t\t// elements, which would interfere with the responsive resize process.\n\t\t// https://github.com/chartjs/Chart.js/issues/2538\n\t\tstyle.display = style.display || 'block';\n\t\tif (renderWidth === null || renderWidth === '') {\n\t\t\tvar displayWidth = readUsedSize(canvas, 'width');\n\t\t\tif (displayWidth !== undefined) {\n\t\t\t\tcanvas.width = displayWidth;\n\t\t\t}\n\t\t}\n\t\tif (renderHeight === null || renderHeight === '') {\n\t\t\tif (canvas.style.height === '') {\n\t\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\n\t\t\t\t// which one can be specified by the user but also by charts as default option\n\t\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n\t\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\n\t\t\t} else {\n\t\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\n\t\t\t\tif (displayWidth !== undefined) {\n\t\t\t\t\tcanvas.height = displayHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn canvas;\n\t}\n\t/**\n\t * Restores the canvas initial state, such as render/display sizes and style.\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction releaseCanvas(canvas) {\n\t\tif (!canvas._chartjs) {\n\t\t\treturn;\n\t\t}\n\t\tvar initial = canvas._chartjs.initial;\n\t\t['height', 'width'].forEach(function(prop) {\n\t\t\tvar value = initial[prop];\n\t\t\tif (value === undefined || value === null) {\n\t\t\t\tcanvas.removeAttribute(prop);\n\t\t\t} else {\n\t\t\t\tcanvas.setAttribute(prop, value);\n\t\t\t}\n\t\t});\n\t\thelpers.each(initial.style || {}, function(value, key) {\n\t\t\tcanvas.style[key] = value;\n\t\t});\n\t\tdelete canvas._chartjs;\n\t}\n\t/**\n\t * TODO(SB) Move this method in the upcoming core.platform class.\n\t */\n\tfunction acquireContext(item, config) {//适配微信小程序\n\t\tvar context=item;\n\t\tvar canvas=item.canvas;\n\t\tinitCanvas(canvas, config);\n\t\treturn context\n\t}\n\t/**\n\t * Initializes the given config with global and chart default values.\n\t */\n\tfunction initConfig(config) {\n\t\tconfig = config || {};\n\t\t// Do NOT use configMerge() for the data object because this method merges arrays\n\t\t// and so would change references to labels and datasets, preventing data updates.\n\t\tvar data = config.data = config.data || {};\n\t\tdata.datasets = data.datasets || [];\n\t\tdata.labels = data.labels || [];\n\t\tconfig.options = helpers.configMerge(\n\t\t\tChart.defaults.global,\n\t\t\tChart.defaults[config.type],\n\t\t\tconfig.options || {});\n\t\treturn config;\n\t}\n\t/**\n\t * @class Chart.Controller\n\t * The main controller of a chart.\n\t */\n\tChart.Controller = function(item, config, instance) {\n\t\tvar me = this;\n\t\tconfig = initConfig(config);\n\t\tvar context = acquireContext(item, config);\n\t\tvar canvas = context && context.canvas;\n\t\tvar height = canvas && canvas.height;\n\t\tvar width = canvas && canvas.width;\n\t\tinstance.ctx = context;\n\t\tinstance.canvas = canvas;\n\t\tinstance.config = config;\n\t\tinstance.width = width;\n\t\tinstance.height = height;\n\t\tinstance.aspectRatio = height? width / height : null;\n\t\tme.id = helpers.uid();\n\t\tme.chart = instance;\n\t\tme.config = config;\n\t\tme.options = config.options;\n\t\tme._bufferedRender = false;\n\t\t// Add the chart instance to the global namespace\n\t\tChart.instances[me.id] = me;\n\t\tObject.defineProperty(me, 'data', {\n\t\t\tget: function() {\n\t\t\t\treturn me.config.data;\n\t\t\t}\n\t\t});\n\t\tif (!context || !canvas) {\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\n\t\t\treturn me;\n\t\t}\n\t\thelpers.retinaScale(instance);\n\t\t// Responsiveness is currently based on the use of an iframe, however this method causes\n\t\t// performance issues and could be troublesome when used with ad blockers. So make sure\n\t\t// that the user is still able to create a chart without iframe when responsive is false.\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\n\t\tif (me.options.responsive) {\n\t\t\thelpers.addResizeListener(canvas.parentNode, function() {\n\t\t\t\tme.resize();\n\t\t\t});\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\n\t\t\tme.resize(true);\n\t\t}\n\t\tme.initialize();\n\t\treturn me;\n\t};\n\thelpers.extend(Chart.Controller.prototype, /** @lends Chart.Controller */ {\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\t// Before init plugin notification\n\t\t\tChart.plugins.notify('beforeInit', [me]);\n\t\t\tme.bindEvents();\n\t\t\t// Make sure controllers are built first so that each dataset is bound to an axis before the scales\n\t\t\t// are built\n\t\t\tme.ensureScalesHaveIDs();\n\t\t\tme.buildOrUpdateControllers();\n\t\t\tme.buildScales();\n\t\t\tme.updateLayout();\n\t\t\tme.resetElements();\n\t\t\tme.initToolTip();\n\t\t\tme.update();\n\t\t\t// After init plugin notification\n\t\t\tChart.plugins.notify('afterInit', [me]);\n\t\t\treturn me;\n\t\t},\n\t\tclear: function() {\n\t\t\thelpers.clear(this.chart);\n\t\t\treturn this;\n\t\t},\n\t\tstop: function() {\n\t\t\t// Stops any current animation loop occurring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\t\tresize: function(silent) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar options = me.options;\n\t\t\tvar canvas = chart.canvas;\n\t\t\tvar aspectRatio = (options.maintainAspectRatio && chart.aspectRatio) || null;\n\t\t\t// the canvas render width and height will be casted to integers so make sure that\n\t\t\t// the canvas display style uses the same integer values to avoid blurring effect.\n\t\t\tvar newWidth = Math.floor(helpers.getMaximumWidth(canvas));\n\t\t\tvar newHeight = Math.floor(aspectRatio? newWidth / aspectRatio : helpers.getMaximumHeight(canvas));\n\t\t\tif (chart.width === newWidth && chart.height === newHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcanvas.width = chart.width = newWidth;\n\t\t\tcanvas.height = chart.height = newHeight;\n\t\t\thelpers.retinaScale(chart);\n\t\t\tcanvas.style.width = newWidth + 'px';\n\t\t\tcanvas.style.height = newHeight + 'px';\n\t\t\t// Notify any plugins about the resize\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\n\t\t\tChart.plugins.notify('resize', [me, newSize]);\n\t\t\t// Notify of resize\n\t\t\tif (me.options.onResize) {\n\t\t\t\tme.options.onResize(me, newSize);\n\t\t\t}\n\t\t\tif (!silent) {\n\t\t\t\tme.stop();\n\t\t\t\tme.update(me.options.responsiveAnimationDuration);\n\t\t\t}\n\t\t},\n\t\tensureScalesHaveIDs: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar scalesOptions = options.scales || {};\n\t\t\tvar scaleOptions = options.scale;\n\t\t\thelpers.each(scalesOptions.xAxes, function(xAxisOptions, index) {\n\t\t\t\txAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);\n\t\t\t});\n\t\t\thelpers.each(scalesOptions.yAxes, function(yAxisOptions, index) {\n\t\t\t\tyAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);\n\t\t\t});\n\t\t\tif (scaleOptions) {\n\t\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Builds a map of scale ID to scale object for future lookup.\n\t\t */\n\t\tbuildScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar scales = me.scales = {};\n\t\t\tvar items = [];\n\t\t\tif (options.scales) {\n\t\t\t\titems = items.concat(\n\t\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\n\t\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category'};\n\t\t\t\t\t}),\n\t\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\n\t\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear'};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (options.scale) {\n\t\t\t\titems.push({options: options.scale, dtype: 'radialLinear', isDefault: true});\n\t\t\t}\n\t\t\thelpers.each(items, function(item) {\n\t\t\t\tvar scaleOptions = item.options;\n\t\t\t\tvar scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);\n\t\t\t\tvar scaleClass = Chart.scaleService.getScaleConstructor(scaleType);\n\t\t\t\tif (!scaleClass) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar scale = new scaleClass({\n\t\t\t\t\tid: scaleOptions.id,\n\t\t\t\t\toptions: scaleOptions,\n\t\t\t\t\tctx: me.chart.ctx,\n\t\t\t\t\tchart: me\n\t\t\t\t});\n\t\t\t\tscales[scale.id] = scale;\n\t\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\n\t\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\n\t\t\t\t// make the logic easier and remove some useless? custom code.\n\t\t\t\tif (item.isDefault) {\n\t\t\t\t\tme.scale = scale;\n\t\t\t\t}\n\t\t\t});\n\t\t\tChart.scaleService.addScalesToLayout(this);\n\t\t},\n\t\tupdateLayout: function() {\n\t\t\tChart.layoutService.update(this, this.chart.width, this.chart.height);\n\t\t},\n\t\tbuildOrUpdateControllers: function() {\n\t\t\tvar me = this;\n\t\t\tvar types = [];\n\t\t\tvar newControllers = [];\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\tif (!meta.type) {\n\t\t\t\t\tmeta.type = dataset.type || me.config.type;\n\t\t\t\t}\n\t\t\t\ttypes.push(meta.type);\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\t\t} else {\n\t\t\t\t\tmeta.controller = new Chart.controllers[meta.type](me, datasetIndex);\n\t\t\t\t\tnewControllers.push(meta.controller);\n\t\t\t\t}\n\t\t\t}, me);\n\t\t\tif (types.length > 1) {\n\t\t\t\tfor (var i = 1; i < types.length; i++) {\n\t\t\t\t\tif (types[i] !== types[i - 1]) {\n\t\t\t\t\t\tme.isCombo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newControllers;\n\t\t},\n\t\t/**\n\t\t * Reset the elements of all datasets\n\t\t * @method resetElements\n\t\t * @private\n\t\t */\n\t\tresetElements: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\n\t\t\t}, me);\n\t\t},\n\t\t/**\n\t\t* Resets the chart back to it's state before the initial animation\n\t\t* @method reset\n\t\t*/\n\t\treset: function() {\n\t\t\tthis.resetElements();\n\t\t\tthis.tooltip.initialize();\n\t\t},\n\t\tupdate: function(animationDuration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeUpdate', [me]);\n\t\t\t// In case the entire data object changed\n\t\t\tme.tooltip._data = me.data;\n\t\t\t// Make sure dataset controllers are updated and new controllers are reset\n\t\t\tvar newControllers = me.buildOrUpdateControllers();\n\t\t\t// Make sure all dataset controllers have correct meta data counts\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();\n\t\t\t}, me);\n\t\t\tChart.layoutService.update(me, me.chart.width, me.chart.height);\n\t\t\t// Apply changes to the datasets that require the scales to have been calculated i.e BorderColor changes\n\t\t\tChart.plugins.notify('afterScaleUpdate', [me]);\n\t\t\t// Can only reset the new controllers after the scales have been updated\n\t\t\thelpers.each(newControllers, function(controller) {\n\t\t\t\tcontroller.reset();\n\t\t\t});\n\t\t\tme.updateDatasets();\n\t\t\t// Do this before render so that any plugins that need final scale updates can use it\n\t\t\tChart.plugins.notify('afterUpdate', [me]);\n\t\t\tif (me._bufferedRender) {\n\t\t\t\tme._bufferedRequest = {\n\t\t\t\t\tlazy: lazy,\n\t\t\t\t\tduration: animationDuration\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tme.render(animationDuration, lazy);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @method beforeDatasetsUpdate\n\t\t * @description Called before all datasets are updated. If a plugin returns false,\n\t\t * the datasets update will be cancelled until another chart update is triggered.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @returns {Boolean} false to cancel the datasets update.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\t\t/**\n\t\t * @method afterDatasetsUpdate\n\t\t * @description Called after all datasets have been updated. Note that this\n\t\t * extension will not be called if the datasets update has been cancelled.\n\t\t * @param {Object} instance the chart instance being updated.\n\t\t * @memberof Chart.PluginBase\n\t\t * @since version 2.1.5\n\t\t * @instance\n\t\t */\n\t\t/**\n\t\t * Updates all datasets unless a plugin returns false to the beforeDatasetsUpdate\n\t\t * extension, in which case no datasets will be updated and the afterDatasetsUpdate\n\t\t * notification will be skipped.\n\t\t * @protected\n\t\t * @instance\n\t\t */\n\t\tupdateDatasets: function() {\n\t\t\tvar me = this;\n\t\t\tvar i, ilen;\n\t\t\tif (Chart.plugins.notify('beforeDatasetsUpdate', [me])) {\n\t\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\t\tme.getDatasetMeta(i).controller.update();\n\t\t\t\t}\n\t\t\t\tChart.plugins.notify('afterDatasetsUpdate', [me]);\n\t\t\t}\n\t\t},\n\t\trender: function(duration, lazy) {\n\t\t\tvar me = this;\n\t\t\tChart.plugins.notify('beforeRender', [me]);\n\t\t\tvar animationOptions = me.options.animation;\n\t\t\tif (animationOptions && ((typeof duration !== 'undefined' && duration !== 0) || (typeof duration === 'undefined' && animationOptions.duration !== 0))) {\n\t\t\t\tvar animation = new Chart.Animation();\n\t\t\t\tanimation.numSteps = (duration || animationOptions.duration) / 16.66; // 60 fps\n\t\t\t\tanimation.easing = animationOptions.easing;\n\t\t\t\t// render function\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\n\t\t\t\t};\n\t\t\t\t// user events\n\t\t\t\tanimation.onAnimationProgress = animationOptions.onProgress;\n\t\t\t\tanimation.onAnimationComplete = animationOptions.onComplete;\n\t\t\t\tChart.animationService.addAnimation(me, animation, duration, lazy);\n\t\t\t} else {\n\t\t\t\tme.draw();\n\t\t\t\tif (animationOptions && animationOptions.onComplete && animationOptions.onComplete.call) {\n\t\t\t\t\tanimationOptions.onComplete.call(me);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn me;\n\t\t},\n\t\tdraw: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tme.clear();\n\t\t\tChart.plugins.notify('beforeDraw', [me, easingDecimal]);\n\t\t\t// Draw all the scales\n\t\t\thelpers.each(me.boxes, function(box) {\n\t\t\t\tbox.draw(me.chartArea,box);//todo 传入box用于区分x轴y轴\n\t\t\t}, me);\n\t\t\tif (me.scale) {\n\t\t\t\tme.scale.draw();\n\t\t\t}\n\t\t\tChart.plugins.notify('beforeDatasetsDraw', [me, easingDecimal]);\n\t\t\t// Draw each dataset via its respective controller (reversed to support proper line stacking)\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (me.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tme.getDatasetMeta(datasetIndex).controller.draw(ease);\n\t\t\t\t}\n\t\t\t}, me, true);\n\t\t\tChart.plugins.notify('afterDatasetsDraw', [me, easingDecimal]);\n\t\t\t// Finally draw the tooltip\n\t\t\tme.tooltip.transition(easingDecimal).draw();\n\t\t\tChart.plugins.notify('afterDraw', [me, easingDecimal]);\n\t\t},\n\t\t// Get the single element that was clicked on\n\t\t// @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\n\t\tgetElementAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.single(this, e);\n\t\t},\n\t\tgetElementsAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.label(this, e, {intersect: true});\n\t\t},\n\t\tgetElementsAtXAxis: function(e) {\n\t\t\treturn Chart.Interaction.modes['x-axis'](this, e, {intersect: true});\n\t\t},\n\t\tgetElementsAtEventForMode: function(e, mode, options) {\n\t\t\tvar method = Chart.Interaction.modes[mode];\n\t\t\tif (typeof method === 'function') {\n\t\t\t\treturn method(this, e, options);\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tgetDatasetAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.dataset(this, e);\n\t\t},\n\t\tgetDatasetMeta: function(datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.data.datasets[datasetIndex];\n\t\t\tif (!dataset._meta) {\n\t\t\t\tdataset._meta = {};\n\t\t\t}\n\t\t\tvar meta = dataset._meta[me.id];\n\t\t\tif (!meta) {\n\t\t\t\tmeta = dataset._meta[me.id] = {\n\t\t\t\t\ttype: null,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdataset: null,\n\t\t\t\t\tcontroller: null,\n\t\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\n\t\t\t\t\txAxisID: null,\n\t\t\t\t\tyAxisID: null\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn meta;\n\t\t},\n\t\tgetVisibleDatasetCount: function() {\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0, ilen = this.data.datasets.length; i<ilen; ++i) {\n\t\t\t\tif (this.isDatasetVisible(i)) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\t\tisDatasetVisible: function(datasetIndex) {\n\t\t\tvar meta = this.getDatasetMeta(datasetIndex);\n\t\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n\t\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n\t\t\treturn typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\n\t\t},\n\t\tgenerateLegend: function() {\n\t\t\treturn this.options.legendCallback(this);\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar me = this;\n\t\t\tvar canvas = me.chart.canvas;\n\t\t\tvar meta, i, ilen;\n\t\t\tme.stop();\n\t\t\t// dataset controllers need to cleanup associated data\n\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\tmeta = me.getDatasetMeta(i);\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.destroy();\n\t\t\t\t\tmeta.controller = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (canvas) {\n\t\t\t\thelpers.unbindEvents(me, me.events);\n\t\t\t\thelpers.removeResizeListener(canvas.parentNode);\n\t\t\t\thelpers.clear(me.chart);\n\t\t\t\treleaseCanvas(canvas);\n\t\t\t\tme.chart.canvas = null;\n\t\t\t\tme.chart.ctx = null;\n\t\t\t}\n\t\t\t// if we scaled the canvas in response to a devicePixelRatio !== 1, we need to undo that transform here\n\t\t\tif (me.chart.originalDevicePixelRatio !== undefined) {\n\t\t\t\tme.chart.ctx.scale(1 / me.chart.originalDevicePixelRatio, 1 / me.chart.originalDevicePixelRatio);\n\t\t\t}\n\t\t\tChart.plugins.notify('destroy', [me]);\n\t\t\tdelete Chart.instances[me.id];\n\t\t},\n\t\ttoBase64Image: function() {\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t},\n\t\tinitToolTip: function() {\n\t\t\tvar me = this;\n\t\t\tme.tooltip = new Chart.Tooltip({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_chartInstance: me,\n\t\t\t\t_data: me.data,\n\t\t\t\t_options: me.options.tooltips\n\t\t\t}, me);\n\t\t\tme.tooltip.initialize();\n\t\t},\n\t\tbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.bindEvents(me, me.options.events, function(evt) {\n\t\t\t\tme.eventHandler(evt);\n\t\t\t});\n\t\t},\n\t\tupdateHoverStyle: function(elements, mode, enabled) {\n\t\t\tvar method = enabled? 'setHoverStyle' : 'removeHoverStyle';\n\t\t\tvar element, i, ilen;\n\t\t\tfor (i=0, ilen=elements.length; i<ilen; ++i) {\n\t\t\t\telement = elements[i];\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[method](element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\teventHandler: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar hoverOptions = me.options.hover;\n\t\t\t// Buffer any update calls so that renders do not occur\n\t\t\tme._bufferedRender = true;\n\t\t\tme._bufferedRequest = null;\n\t\t\tvar changed = me.handleEvent(e);\n\t\t\tchanged |= me.legend.handleEvent(e);\n\t\t\tchanged |= me.tooltip.handleEvent(e);\n\t\t\tvar bufferedRequest = me._bufferedRequest;\n\t\t\tif (bufferedRequest) {\n\t\t\t\t// If we have an update that was triggered, we need to do a normal render\n\t\t\t\tme.render(bufferedRequest.duration, bufferedRequest.lazy);\n\t\t\t} else if (changed && !me.animating) {\n\t\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\n\t\t\t\tme.stop();\n\t\t\t\t// We only need to render at this point. Updating will cause scales to be\n\t\t\t\t// recomputed generating flicker & using more memory than necessary.\n\t\t\t\tme.render(hoverOptions.animationDuration, true);\n\t\t\t}\n\t\t\tme._bufferedRender = false;\n\t\t\tme._bufferedRequest = null;\n\t\t\treturn me;\n\t\t},\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * param e {Event} the event to handle\n\t\t * @return {Boolean} true if the chart needs to re-render\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options || {};\n\t\t\tvar hoverOptions = options.hover;\n\t\t\tvar changed = false;\n\t\t\tme.lastActive = me.lastActive || [];\n\t\t\t// Find Active Elements for hover and tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme.active = [];\n\t\t\t} else {\n\t\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\n\t\t\t}\n\t\t\t// On Hover hook\n\t\t\tif (hoverOptions.onHover) {\n\t\t\t\thoverOptions.onHover.call(me, me.active);\n\t\t\t}\n\t\t\tif (e.type === 'mouseup' || e.type === 'click') {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\toptions.onClick.call(me, e, me.active);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove styling for last active (even if it may still be active)\n\t\t\tif (me.lastActive.length) {\n\t\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\n\t\t\t}\n\t\t\t// Built in hover styling\n\t\t\tif (me.active.length && hoverOptions.mode) {\n\t\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\n\t\t\t}\n\t\t\tchanged = !helpers.arrayEquals(me.active, me.lastActive);\n\t\t\t// Remember Last Actives\n\t\t\tme.lastActive = me.active;\n\t\t\treturn changed;\n\t\t}\n\t});\n};\n"]}